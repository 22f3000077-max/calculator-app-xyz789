<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Calculator</title>
    <style>
        /* Basic Reset & Box Sizing */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #333;
            overflow: hidden; /* Prevent scrollbar if calculator is slightly larger than viewport */
        }

        #calculator {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            width: 320px; /* Fixed width for a compact calculator */
            overflow: hidden;
            border: 1px solid #e0e0e0;
        }

        #display {
            background-color: #222;
            color: #fff;
            font-size: 3em; /* Default font size */
            padding: 20px;
            text-align: right;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
            min-height: 90px;
            display: flex;
            align-items: flex-end; /* Align text to the bottom */
            justify-content: flex-end; /* Align text to the right */
            word-wrap: break-word; /* Allow long numbers to wrap */
            word-break: break-all; /* Break words at any character */
            line-height: 1.2; /* Adjust line height for wrapped text */
        }

        #buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1px; /* Small gap for button separation */
            background-color: #e0e0e0; /* Background for the gaps */
        }

        #buttons button {
            background-color: #f8f8f8;
            border: none;
            padding: 20px;
            font-size: 1.5em;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease;
            outline: none;
            color: #333;
            /* Ensure buttons are square-ish */
            aspect-ratio: 1 / 1; 
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #buttons button:hover {
            background-color: #e6e6e6;
            transform: translateY(-1px);
        }

        #buttons button:active {
            background-color: #dcdcdc;
            transform: translateY(0);
        }

        .operator-button {
            background-color: #ff9500; /* Apple calculator orange */
            color: #fff;
        }

        .operator-button:hover {
            background-color: #e08400;
        }

        .operator-button:active {
            background-color: #c77500;
        }

        .equals-button {
            background-color: #007aff; /* Apple calculator blue */
            color: #fff;
        }

        .equals-button:hover {
            background-color: #006ee6;
        }

        .equals-button:active {
            background-color: #005bb3;
        }

        .clear-button {
            background-color: #ff3b30; /* Red for clear */
            color: #fff;
        }

        .clear-button:hover {
            background-color: #e63229;
        }

        .clear-button:active {
            background-color: #cc2c24;
        }

        /* Specific button styling for layout */
        /* 
           Layout:
           C   /   *   -
           7   8   9   + (spans 2 rows)
           4   5   6   +
           1   2   3   = (spans 2 rows)
           0 (spans 2 cols) . =
        */
        .operator-button[data-action="add"] {
            grid-row: span 2;
        }
        .equals-button {
            grid-row: span 2;
        }
        .number-button[style*="grid-column: span 2"] { /* For the '0' button */
            grid-column: span 2;
        }
    </style>
</head>
<body>
    <!--
MIT License

Copyright (c) 2023 YourName

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
-->
<!--
README.md:
A professional and complete README.md file should be created in the repository.
It should include:
- Project Title: Simple Calculator Web App
- Description: A clean and user-friendly web-based calculator capable of basic arithmetic operations (addition, subtraction, multiplication, division).
- Features:
    - Basic arithmetic operations: +, -, *, /
    - Clear button to reset the calculator
    - Decimal point support
    - Intuitive button layout
- How to Use:
    1. Open the `index.html` file in your web browser.
    2. Click on number buttons to input values.
    3. Click on operator buttons (+, -, *, /) to select an operation.
    4. Click on the equals (=) button to see the result.
    5. Use the 'C' button to clear the display and reset the calculation.
- Technologies Used:
    - HTML5
    - CSS3
    - JavaScript (Vanilla JS)
- Installation:
    1. Clone the repository: `git clone [repository-url]`
    2. Navigate to the project directory: `cd simple-calculator`
    3. Open `index.html` in your web browser.
- License: MIT License
- Contributing:
    Contributions are welcome! Please open an issue or submit a pull request.
- Author: [Your Name/GitHub Username]
-->
    <div id="calculator">
        <div id="display">0</div>
        <div id="buttons">
            <button class="clear-button" data-action="clear">C</button>
            <button class="operator-button" data-action="divide">/</button>
            <button class="operator-button" data-action="multiply">*</button>
            <button class="operator-button" data-action="subtract">-</button>

            <button class="number-button">7</button>
            <button class="number-button">8</button>
            <button class="number-button">9</button>
            <button class="operator-button" data-action="add" style="grid-row: span 2;">+</button>

            <button class="number-button">4</button>
            <button class="number-button">5</button>
            <button class="number-button">6</button>
            <!-- + takes up this spot from previous row -->

            <button class="number-button">1</button>
            <button class="number-button">2</button>
            <button class="number-button">3</button>
            <button class="equals-button" data-action="equals" style="grid-row: span 2;">=</button>

            <button class="number-button" style="grid-column: span 2;">0</button>
            <button class="decimal-button" data-action="decimal">.</button>
            <!-- = takes up this spot from previous row -->
        </div>
    </div>

    <script>
        const calculator = {
            displayValue: '0',
            firstOperand: null,
            waitingForSecondOperand: false,
            operator: null,
        };

        function updateDisplay() {
            const display = document.getElementById('display');
            display.textContent = calculator.displayValue;
            // Adjust font size for long numbers
            if (calculator.displayValue.length > 10) {
                display.style.fontSize = '2em';
            } else {
                display.style.fontSize = '3em';
            }
        }

        function inputDigit(digit) {
            const { displayValue, waitingForSecondOperand } = calculator;

            if (waitingForSecondOperand || displayValue === '0' || displayValue === 'Error') {
                calculator.displayValue = digit;
                calculator.waitingForSecondOperand = false;
            } else {
                calculator.displayValue += digit;
            }
        }

        function inputDecimal(dot) {
            // If the `displayValue` is 'Error', clear it first and start with '0.'
            if (calculator.displayValue === 'Error') {
                calculator.displayValue = '0.';
                calculator.waitingForSecondOperand = false;
                return;
            }

            // If we are waiting for a second operand, start a new number with '0.'
            if (calculator.waitingForSecondOperand === true) {
                calculator.displayValue = '0.';
                calculator.waitingForSecondOperand = false;
                return;
            }

            // If the `displayValue` does not contain a decimal point, append it
            if (!calculator.displayValue.includes(dot)) {
                calculator.displayValue += dot;
            }
        }

        function handleOperator(nextOperator) {
            const { firstOperand, displayValue, operator } = calculator;
            const inputValue = parseFloat(displayValue);

            // If an operator is already set and we're waiting for a second operand,
            // and a new operator (not equals) is pressed, just update the operator.
            if (operator && calculator.waitingForSecondOperand && nextOperator !== '=') {
                calculator.operator = nextOperator;
                return;
            }

            // If there's no first operand and the input is a valid number
            if (firstOperand === null && !isNaN(inputValue)) {
                calculator.firstOperand = inputValue;
            } else if (operator) { // If there's a first operand and an operator
                const result = operate(firstOperand, inputValue, operator);

                // Handle 'Error' from division by zero
                if (result === 'Error') {
                    calculator.displayValue = 'Error';
                    calculator.firstOperand = null; // Clear state
                    calculator.operator = null;
                    calculator.waitingForSecondOperand = false;
                    return;
                }
                
                // Limit decimal places for display to prevent floating point inaccuracies
                // Use toFixed and parseFloat to remove unnecessary trailing zeros
                calculator.displayValue = String(parseFloat(result.toFixed(7))); 
                calculator.firstOperand = result;
            }

            calculator.waitingForSecondOperand = true;
            // Only set the operator if it's not the equals sign
            if (nextOperator !== '=') {
                calculator.operator = nextOperator;
            } else {
                calculator.operator = null; // Clear operator after equals
            }
        }

        function operate(num1, num2, operator) {
            if (operator === '+') {
                return num1 + num2;
            } else if (operator === '-') {
                return num1 - num2;
            } else if (operator === '*') {
                return num1 * num2;
            } else if (operator === '/') {
                if (num2 === 0) {
                    return 'Error'; // Division by zero error
                }
                return num1 / num2;
            }
            return num2; // Should not be reached with current logic
        }

        function resetCalculator() {
            calculator.displayValue = '0';
            calculator.firstOperand = null;
            calculator.waitingForSecondOperand = false;
            calculator.operator = null;
        }

        const buttons = document.getElementById('buttons');
        buttons.addEventListener('click', (event) => {
            const { target } = event;

            if (!target.matches('button')) {
                return;
            }

            if (target.classList.contains('operator-button')) {
                handleOperator(target.textContent);
                updateDisplay();
                return;
            }

            if (target.classList.contains('equals-button')) {
                handleOperator('='); // Trigger computation
                updateDisplay();
                return;
            }

            if (target.classList.contains('decimal-button')) {
                inputDecimal(target.textContent);
                updateDisplay();
                return;
            }

            if (target.classList.contains('clear-button')) {
                resetCalculator();
                updateDisplay();
                return;
            }
            
            // If it's a number button, handle it
            inputDigit(target.textContent);
            updateDisplay();
        });

        // Initial display update
        updateDisplay();
    </script>
</body>
</html>